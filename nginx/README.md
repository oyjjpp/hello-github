# nginx常见问题

## location的优先级是什么样的

精准匹配： 相等（=）  
字符串匹配：字符串匹配（空格）、匹配开头（^~）  
正则匹配： 区分大小写匹配（~）、不区分大小写匹配（~*）、区分大小写不匹配（！~）、不区分大小写不匹配（！~*）  

优先级：  
精准匹配  > 字符串匹配（长 > 短，^~匹配是最长匹配则停止匹配） > 正则匹配（先后顺序）

精准匹配只能匹配一个  
字符串匹配使用匹配最长的为匹配结果  
正则匹配按照location定义的顺序进行匹配，先定义具有最高优先级  

注：字符串匹配优先搜索，但是只是记录下最长的匹配（如果^~是最长匹配，则会直接命中，停止搜索正则），然后继续正则匹配，如果有正则匹配，则命中正则匹配，如果没有正则匹配，则命中最长的字符串匹配
